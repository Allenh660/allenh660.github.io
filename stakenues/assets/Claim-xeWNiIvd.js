import{W as a,K as s,M as e,L as t,E as l,d as i,an as n}from"./MsStake-_l0BMAMR.js";import{_ as o}from"./MetaMask-8E0tWPSn.js";/* empty css               */import{u as c,C as d,b as r}from"./custompopups-SohuuRKg.js";import{d as u,L as v,r as p,x as m,c as y,f as w,E as g,u as f,t as h,n as x,b as S,e as C,g as b,F as k,a as _,p as E,h as N,_ as F}from"./index-NPrZcBDP.js";const J=a=>(E("data-v-ad8b6823"),a=a(),N(),a),O={class:"claim"},j={class:"content"},M=J((()=>w("div",{class:"name"},"Wallet address",-1))),R=J((()=>w("img",{class:"img",src:o,style:{width:"32px"}},null,-1))),I=J((()=>w("div",{class:"name",style:{"margin-top":"30px"}},"Your reward",-1))),T={class:"details"},L={class:"amount"},V={class:"content-claim",style:{"margin-top":"30px"}},A={class:"hint-content"},B={key:0,class:"title"},D=["src"],U=["src"],W={key:1,class:"hint-name"},z={key:2,class:"hint-name success"},G={key:0,class:"showView"},K={class:"showBox"},P={style:{display:"flex","justify-content":"flex-end",cursor:"pointer"}},Y=J((()=>w("div",{style:{padding:"10px"}}," Claim function available on the 8th dayafter system launch. ",-1))),q=F(u({__name:"Claim",setup(o){const u=c(),E=v(),N=p("0xF09FD56e72933f4dC6817006660E6f0d13eB4E75"),F=p(!1),J=p(1),q=p(!1),H=p(!1),Q=async()=>{parseFloat(Z.value)>0?q.value=!0:q.value=!1},X=async()=>{u.Setpopupsdata(!0,1);const t=new a(window.ethereum).getSigner(),l=new s(N.value,e.abi,t);try{const{hash:a}=await l.ClaimRewards();for(;;){if(null!==await t.provider.getTransactionReceipt(a))break}u.Setpopupsdata(!0,2),await $()}catch(i){(JSON.parse(JSON.stringify(i)).code="UNPREDICTABLE_GAS_LIMIT")?u.Setpopupsdata(!0,6,JSON.parse(JSON.stringify(i)).error.message):(JSON.parse(JSON.stringify(i)).code="ACTION_REJECTED")?u.Setpopupsdata(!0,3):u.Setpopupsdata(!0,4)}};m((async()=>{await $(),Q()}));const Z=p(""),$=async()=>{const l=new a(window.ethereum),i=new s(N.value,e.abi,l);try{const a=await i.CalculateReward();Z.value=parseFloat(t(a.reward)).toFixed(6),0==parseFloat(Z.value)&&(Z.value="0")}catch(n){}},aa=p({img:d,text:"Confirm this transaction in your wallet"}),sa=async()=>{await $(),Q()};return(a,s)=>{const e=l,t=i;return _(),y(k,null,[w("div",O,[w("div",j,[M,R,w("div",{class:"addr wrap-text",style:g(f(E).isMobile?"font-size:12px":"")},h(f(E).accounts),5),I,w("div",T,[w("div",L,h(Z.value||"0")+" RUNES",1)]),w("div",V,[q.value?(_(),y("div",{key:0,class:"con-b",onClick:X}," Claim ")):(_(),y("div",{key:1,class:x(["con-b",{noclaim:!q.value}])}," Claim ",2))])])]),S(e,{modelValue:F.value,"onUpdate:modelValue":s[0]||(s[0]=a=>F.value=a),width:"30%",onClose:sa,"show-close":1!=J.value,"align-center":"",class:"signdialog"},{default:C((()=>[w("div",A,[J.value<=2||5==J.value?(_(),y("div",B," Sign transaction ")):b("",!0),w("div",{class:x(["hint-icon",{noimg:J.value>2&&5!=J.value}])},[1==J.value||5==J.value?(_(),y("img",{key:0,class:"hint-paddimg-icon",src:f(r),alt:""},null,8,D)):b("",!0),aa.value.img?(_(),y("img",{key:1,class:x(["img",{paddimg:1==J.value||5==J.value}]),src:aa.value.img,alt:""},null,10,U)):b("",!0)],2),2!=J.value?(_(),y("div",W,h(aa.value.text),1)):(_(),y("div",z,h(aa.value.text),1))])])),_:1},8,["modelValue","show-close"]),H.value?(_(),y("div",G,[w("div",K,[w("div",P,[S(t,{color:"#bdff00",onClick:s[1]||(s[1]=a=>H.value=!1)},{default:C((()=>[S(f(n))])),_:1})]),Y])])):b("",!0)],64)}}}),[["__scopeId","data-v-ad8b6823"]]);export{q as default};
